"use strict";var NinjaGuru=function(){function a(){return j.timing.domComplete-j.timing.domLoading}function b(){return j.timing.domInteractive-j.timing.domLoading}function c(a){if(j.data.fps.lastTime){var b=(a-j.data.fps.lastTime)/1e3;j.data.fps.current=(1/b+"").split(".")[0],j.data.fps.history.length>200&&j.data.fps.history.shift(),j.data.fps.history.push([j.data.fps.current,60-j.data.fps.current]),j.data.fps.lastTime=a}else j.data.fps.lastTime=a;window.requestAnimationFrame(c)}function d(a,b,c){return['<div class="'+j.dom.bar.prefix+'-text-stats">',"<span>"+a+": </span>"+b+c+" </div>"].join("")}function e(){var c=[d("domComplete",a(),"ms"),d("domInteractive",b(),"ms")].join("");j.dom.textStats.wrap.innerHTML=c}function f(a,b){a.clearRect(0,0,b.width,b.height)}function g(){f(j.dom.chartStats.fps.ctx,j.dom.chartStats.fps.canvas);for(var a=0;a<j.data.fps.history.length;a++)j.dom.chartStats.fps.ctx.fillStyle="#EEBF49",j.dom.chartStats.fps.ctx.fillRect(a,j.data.fps.history[a][1],1,j.data.fps.history[a][0])}function h(){j.dom.wrap.id=j.dom.bar.prefix,j.dom.wrap.classList.add(j.dom.bar.prefix),j.dom.textStats.wrap.id=j.dom.bar.prefix+"-textStats",j.dom.textStats.wrap.classList.add(j.dom.bar.prefix+"-text"),j.dom.chartStats.wrap.id=j.dom.bar.prefix+"-chartStats",j.dom.chartStats.wrap.classList.add(j.dom.bar.prefix+"-text"),j.dom.chartStats.fps.canvas.id=j.dom.bar.prefix+"-fpsChart",j.dom.chartStats.fps.canvas.classList.add(j.dom.bar.prefix+"-canvas"),j.dom.chartStats.wrap.appendChild(j.dom.chartStats.fps.canvas),j.dom.wrap.appendChild(j.dom.textStats.wrap),j.dom.wrap.appendChild(j.dom.chartStats.wrap),document.body.appendChild(j.dom.wrap)}function i(){h(),j.dom.chartStats.fps.ctx=document.getElementById(j.dom.bar.prefix+"-fpsChart").getContext("2d"),e(),window.requestAnimationFrame(c),window.thing=setInterval(g,500)}var j={timing:window.performance.timing,dom:{wrap:document.createElement("div"),bar:{prefix:"ninjaguru",node:null},textStats:{wrap:document.createElement("div")},chartStats:{wrap:document.createElement("div"),fps:{canvas:document.createElement("canvas"),ctx:null}}},data:{fps:{current:0,history:[],lastTime:null}}};return{init:function(){window.performance&&window.performance.timing&&("complete"===document.readyState?i():window.onload=i)}}}();NinjaGuru.init();