"use strict";var NinjaGuru=function(){function a(a){k.chartRenderer=q[a]}function b(){return k.timing.domComplete-k.timing.domLoading}function c(){return k.timing.domInteractive-k.timing.domLoading}function d(a){if(k.data.fps.lastTime){var b=(a-k.data.fps.lastTime)/1e3;k.data.fps.current=(1/b+"").split(".")[0],k.data.fps.history.push([k.data.fps.current,60-k.data.fps.current]),k.data.fps.history.length>l/p&&k.data.fps.history.shift(),k.data.fps.lastTime=a}else k.data.fps.lastTime=a}function e(a){k.tickCount++,d(a),k.chartRenderer(),window.requestAnimationFrame(e)}function f(){k.dom.display.text.domComplete.innerHTML='<span class="'+k.dom.bar.prefix+'-title">domComplete: </span> '+b()+"ms",k.dom.display.text.domInteractive.innerHTML='<span class="'+k.dom.bar.prefix+'-title">domInteractive: </span> '+c()+"ms"}function g(a,b){a.clearRect(0,0,b.width,b.height)}function h(){k.dom.display.chart.fpsCanvasCtx.beginPath(),k.dom.display.chart.fpsCanvasCtx.moveTo(.5,.5),k.dom.display.chart.fpsCanvasCtx.lineTo(l+.5,.5),k.dom.display.chart.fpsCanvasCtx.lineWidth=1,k.dom.display.chart.fpsCanvasCtx.strokeStyle=o,k.dom.display.chart.fpsCanvasCtx.stroke(),k.dom.display.chart.fpsCanvasCtx.beginPath(),k.dom.display.chart.fpsCanvasCtx.moveTo(.5,m/2+.5),k.dom.display.chart.fpsCanvasCtx.lineTo(l+.5,m/2+.5),k.dom.display.chart.fpsCanvasCtx.lineWidth=1,k.dom.display.chart.fpsCanvasCtx.strokeStyle=o,k.dom.display.chart.fpsCanvasCtx.stroke(),k.dom.display.chart.fpsCanvasCtx.beginPath(),k.dom.display.chart.fpsCanvasCtx.moveTo(.5,m-1+.5),k.dom.display.chart.fpsCanvasCtx.lineTo(l+.5,m-1+.5),k.dom.display.chart.fpsCanvasCtx.lineWidth=1,k.dom.display.chart.fpsCanvasCtx.strokeStyle=o,k.dom.display.chart.fpsCanvasCtx.stroke()}function i(){k.dom.wrap.id=k.dom.bar.prefix,k.dom.wrap.classList.add(k.dom.bar.prefix),k.dom.display.text.domComplete.classList.add(k.dom.bar.prefix+"-metric"),k.dom.display.text.domInteractive.classList.add(k.dom.bar.prefix+"-metric"),k.dom.display.chart.fps.classList.add(k.dom.bar.prefix+"-metric"),k.dom.display.chart.memory.classList.add(k.dom.bar.prefix+"-metric"),k.dom.display.chart.fpsCanvas.classList.add(k.dom.bar.prefix+"-canvas"),k.dom.display.chart.memoryCanvas.classList.add(k.dom.bar.prefix+"-canvas"),k.dom.display.chart.fpsCanvas.height=m,k.dom.display.chart.fpsCanvas.width=l,k.dom.display.chart.memoryCanvas.height=m,k.dom.display.chart.memoryCanvas.width=l,k.dom.display.chart.fps.appendChild(k.dom.display.chart.fpsCanvas),k.dom.display.chart.memory.appendChild(k.dom.display.chart.memoryCanvas),k.dom.display.chart.fpsCanvasCtx=k.dom.display.chart.fpsCanvas.getContext("2d"),k.dom.display.chart.memoryCanvasCtx=k.dom.display.chart.memoryCanvas.getContext("2d"),k.dom.wrap.appendChild(k.dom.display.text.domComplete),k.dom.wrap.appendChild(k.dom.display.text.domInteractive),k.dom.wrap.appendChild(k.dom.display.chart.fps),k.dom.wrap.appendChild(k.dom.display.chart.memory),document.body.appendChild(k.dom.wrap)}function j(){i(),f(),a("spline"),window.requestAnimationFrame(e)}var k={timing:window.performance.timing,dom:{wrap:document.createElement("div"),bar:{prefix:"ninjaguru",node:null},display:{text:{domComplete:document.createElement("div"),domInteractive:document.createElement("div")},chart:{fps:document.createElement("div"),fpsCanvas:document.createElement("canvas"),fpsCanvasCtx:null,memory:document.createElement("div"),memoryCanvas:document.createElement("canvas"),memoryCanvasCtx:null}}},data:{fps:{current:0,history:[],lastTime:null}},chartRenderer:null,tickCount:0};window.cache=k;var l=300,m=60,n="#EEBF49",o="#363636",p=1,q={};return q.fps=function(){g(k.dom.display.chart.fpsCanvasCtx,k.dom.display.chart.fpsCanvas);for(var a=0;a<k.data.fps.history.length;a++)k.dom.display.chart.fpsCanvasCtx.fillStyle=n,k.dom.display.chart.fpsCanvasCtx.fillRect(a,k.data.fps.history[a][1],1,k.data.fps.history[a][0])},q.bezier=function(){if(k.data.fps.history.length%3===0){g(k.dom.display.chart.fpsCanvasCtx,k.dom.display.chart.fpsCanvas),k.dom.display.chart.fpsCanvasCtx.beginPath(),k.dom.display.chart.fpsCanvasCtx.moveTo(0,0);for(var a=0;a<k.data.fps.history.length;a+=3)k.dom.display.chart.fpsCanvasCtx.bezierCurveTo(a,m-k.data.fps.history[a][0],a+1,m-k.data.fps.history[a+1][0],a+2,m-k.data.fps.history[a+2][0]);k.dom.display.chart.fpsCanvasCtx.lineWidth=2,k.dom.display.chart.fpsCanvasCtx.strokeStyle=n,k.dom.display.chart.fpsCanvasCtx.stroke(),k.dom.display.chart.fpsCanvasCtx.closePath()}},q.dots=function(){g(k.dom.display.chart.fpsCanvasCtx,k.dom.display.chart.fpsCanvas),k.dom.display.chart.fpsCanvasCtx.fillStyle=n;for(var a=0;a<k.data.fps.history.length;a++)k.dom.display.chart.fpsCanvasCtx.fillRect(a,k.data.fps.history[a][1],1,1)},q.spline=function(){g(k.dom.display.chart.fpsCanvasCtx,k.dom.display.chart.fpsCanvas),h(),k.dom.display.chart.fpsCanvasCtx.beginPath(),k.dom.display.chart.fpsCanvasCtx.moveTo(0,0);for(var a=0;a<k.data.fps.history.length;a++){var b=0===a?0:a*p;k.dom.display.chart.fpsCanvasCtx.lineTo(b,k.data.fps.history[a][1])}k.dom.display.chart.fpsCanvasCtx.lineWidth=2,k.dom.display.chart.fpsCanvasCtx.strokeStyle=n,k.dom.display.chart.fpsCanvasCtx.stroke()},{init:function(){window.performance&&window.performance.timing&&("complete"===document.readyState?j():window.onload=j)}}}();NinjaGuru.init();