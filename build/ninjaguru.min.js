"use strict";var NinjaGuru=function(){function a(a){n.chart.fpsRenderer=u[a],n.chart.memoryRenderer=u[a]}function b(){return n.timing.loadEventStart-n.timing.navigationStart}function c(){return n.timing.domComplete-n.timing.domLoading}function d(){return n.timing.domInteractive-n.timing.domLoading}function e(a){if(n.data.fps.lastTime){var b=(a-n.data.fps.lastTime)/1e3;n.data.fps.current=Math.floor(1/b),n.data.fps.history.push([n.data.fps.current,60-n.data.fps.current]),n.data.fps.history.length>o/s&&n.data.fps.history.shift(),n.data.fps.lastTime=a}else n.data.fps.lastTime=a}function f(a){var b=performance.memory.jsHeapSizeLimit/performance.memory.totalJSHeapSize/p;n.data.memory.lastTime?(n.data.memory.current=Math.floor(b),n.data.memory.history.push([p-b,b]),n.data.memory.history.length>o/s&&n.data.memory.history.shift(),n.data.memory.lastTime=a):n.data.memory.lastTime=a}function g(a){n.tickCount++,e(a),n.chart.fpsRenderer(n.dom.display.chart.fpsCanvasCtx,n.dom.display.chart.fpsCanvas,n.data.fps.history),t&&(f(a),n.chart.memoryRenderer(n.dom.display.chart.memoryCanvasCtx,n.dom.display.chart.memoryCanvas,n.data.memory.history)),window.requestAnimationFrame(g)}function h(){n.dom.display.text.loadTime.innerHTML='<span class="'+n.dom.bar.prefix+'-title">Load Time: </span><span class="'+n.dom.bar.prefix+'-text">'+b()+"ms</span>",n.dom.display.text.domComplete.innerHTML='<span class="'+n.dom.bar.prefix+'-title">dom Complete: </span><span class="'+n.dom.bar.prefix+'-text">'+c()+"ms</span>",n.dom.display.text.domInteractive.innerHTML='<span class="'+n.dom.bar.prefix+'-title">dom Interactive: </span><span class="'+n.dom.bar.prefix+'-text">'+d()+"ms</span>"}function i(a,b){a.clearRect(0,0,b.width,b.height)}function j(a){var b=a.createLinearGradient(0,60,0,0);b.addColorStop(0,"rgb(141, 48, 31);"),b.addColorStop(.25,"rgb(141, 48, 31);"),b.addColorStop(.5,"rgb(228, 255, 77);"),b.addColorStop(1,"rgb(65, 155, 163)"),a.strokeStyle=b,a.fillStyle=b}function k(a){a.beginPath(),a.moveTo(.5,.5),a.lineTo(o+.5,.5),a.lineWidth=1,a.strokeStyle=r,a.stroke(),a.beginPath(),a.moveTo(.5,p/2+.5),a.lineTo(o+.5,p/2+.5),a.lineWidth=1,a.strokeStyle=r,a.stroke(),a.beginPath(),a.moveTo(.5,p-1+.5),a.lineTo(o+.5,p-1+.5),a.lineWidth=1,a.strokeStyle=r,a.stroke()}function l(){n.dom.wrap.id=n.dom.bar.prefix,n.dom.wrap.classList.add(n.dom.bar.prefix),n.dom.display.text.loadTime.classList.add(n.dom.bar.prefix+"-metric"),n.dom.wrap.appendChild(n.dom.display.text.loadTime),n.dom.display.text.domComplete.classList.add(n.dom.bar.prefix+"-metric"),n.dom.wrap.appendChild(n.dom.display.text.domComplete),n.dom.display.text.domInteractive.classList.add(n.dom.bar.prefix+"-metric"),n.dom.wrap.appendChild(n.dom.display.text.domInteractive),n.dom.display.chart.fps.classList.add(n.dom.bar.prefix+"-metric");var a=document.createElement("span");a.classList.add(n.dom.bar.prefix+"-title"),a.innerHTML="FPS: ",n.dom.display.chart.fps.appendChild(a),n.dom.display.chart.fpsCanvas.classList.add(n.dom.bar.prefix+"-canvas"),n.dom.display.chart.fpsCanvas.height=p,n.dom.display.chart.fpsCanvas.width=o,n.dom.display.chart.fps.appendChild(n.dom.display.chart.fpsCanvas),n.dom.display.chart.fpsCanvasCtx=n.dom.display.chart.fpsCanvas.getContext("2d"),n.dom.wrap.appendChild(n.dom.display.chart.fps),t&&(n.dom.display.chart.memory.classList.add(n.dom.bar.prefix+"-metric"),n.dom.display.chart.memoryCanvas.classList.add(n.dom.bar.prefix+"-canvas"),n.dom.display.chart.memory.appendChild(n.dom.display.chart.memoryCanvas),n.dom.display.chart.memoryCanvas.height=p,n.dom.display.chart.memoryCanvas.width=o,n.dom.display.chart.memoryCanvasCtx=n.dom.display.chart.memoryCanvas.getContext("2d"),n.dom.wrap.appendChild(n.dom.display.chart.memory)),document.body.appendChild(n.dom.wrap)}function m(){l(),h(),a("spline"),window.requestAnimationFrame(g)}var n={timing:window.performance.timing,dom:{wrap:document.createElement("div"),bar:{prefix:"ninjaguru",node:null},display:{text:{loadTime:document.createElement("div"),domComplete:document.createElement("div"),domInteractive:document.createElement("div")},chart:{fps:document.createElement("div"),fpsCanvas:document.createElement("canvas"),fpsCanvasCtx:null,memory:document.createElement("div"),memoryCanvas:document.createElement("canvas"),memoryCanvasCtx:null}}},data:{fps:{current:0,history:[],lastTime:null},memory:{current:0,history:[],lastTime:null}},chart:{fpsRenderer:null,memoryRenderer:null},tickCount:0},o=260,p=60,q="rgb(241, 250, 195)",r="rgb(36, 36, 36)",s=1,t=!1,u={};return u.bar=function(a,b,c){i(a,b),k(a),a.fillStyle=q;for(var d=0;d<c.length;d++)a.fillRect(d,c[d][1],1,c[d][0])},u.dots=function(a,b,c){i(a,b),k(a),j(a);for(var d=0;d<c.length;d++)a.fillRect(d,c[d][1],1,1)},u.spline=function(a,b,c){i(a,b),k(a),j(a),a.beginPath();var d=c.length>0?c[c.length]:0;a.moveTo(0,d);for(var e=0;e<c.length;e++){var f=0===e?0:e*s;a.lineTo(f,c[e][1])}a.lineWidth=1,a.stroke()},{init:function(){window.performance&&window.performance.timing&&("complete"===document.readyState?m():window.onload=m)}}}();NinjaGuru.init();